{"version":3,"file":"static/js/674.aacdb3e4.chunk.js","mappings":"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","sources":["webpack://filmweb/./src/components/ErrorComponent/ErrorView.module.css?39a8","components/ErrorComponent/ErrorView..jsx","webpack://filmweb/./src/pages/HomePage/HomePage.module.css?5baa","pages/HomePage/HomePage.jsx","utils/apiCalls.js","utils/constans.js","utils/paginationStyles.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ErrorView_wrapper__2QkYq\",\"img\":\"ErrorView_img__w4F5u\",\"text\":\"ErrorView_text__6IWo-\"};","\r\nimport errorImage from '../../images/error.svg.png';\r\nimport styles from './ErrorView.module.css';\r\n\r\nfunction ErrorView({ message }) {\r\n  return (\r\n    <div role=\"alert\" className={styles.wrapper}>\r\n      <p text={message} className={styles.text}>\r\n        {message}\r\n      </p>\r\n      <img src={errorImage} width=\"650\" alt=\"sadcat\" className={styles.img} />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default ErrorView;","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"HomePage_main__4yx+I\",\"title\":\"HomePage_title__XbXuW\",\"moviesList\":\"HomePage_moviesList__u0iH4\",\"moviesItem\":\"HomePage_moviesItem__I7p9+\",\"poster\":\"HomePage_poster__KoQJM\",\"movieTitle\":\"HomePage_movieTitle__sZcJo\",\"pagination\":\"HomePage_pagination__vXIk4\",\"vote\":\"HomePage_vote__rbvyG\"};","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { getTrending } from \"../../utils/apiCalls\";\r\nimport { STATUS } from \"../../utils/constans\";\r\nimport LoaderComponent from \"../../components/LoaderComponent/LoaderComponent\";\r\nimport ErrorView from \"../../components/ErrorComponent/ErrorView.\";\r\n// import slugify from \"slugify\";\r\nimport { Pagination } from \"@material-ui/lab\";\r\nimport useStyles from \"../../utils/paginationStyles\";\r\nimport styles from \"./HomePage.module.css\";\r\nimport moviePlaceholder from \"../../images/moviePlaceholder.jpg\";\r\n\r\n// const makeSlug = (string) => slugify(string, { lower: true });\r\n\r\nconst HomePage = () => {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [movies, setMovies] = useState(null);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(STATUS.IDLE);\r\n\r\n  const page = new URLSearchParams(location.search).get(\"page\") ?? 1;\r\n\r\n  useEffect(() => {\r\n    setStatus(STATUS.PENDING);\r\n    getTrending(page)\r\n      .then(({ results, total_pages }) => {\r\n        setMovies(results);\r\n        setTotalPages(total_pages);\r\n        setStatus(STATUS.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setError(\"Coś poszło nie tak. Spróbuj ponownie.\");\r\n        setStatus(STATUS.REJECTED);\r\n      });\r\n  }, [page]);\r\n\r\n  const onHandlePage = (event, page) => {\r\n    navigate({ ...location, search: `page=${page}` });\r\n  };\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <h1 className={styles.title}>Dziś na topie</h1>\r\n\r\n      {status === STATUS.PENDING && <LoaderComponent />}\r\n      {status === STATUS.REJECTED && <ErrorView message={error.message} />}\r\n      {status === STATUS.RESOLVED && (\r\n        <>\r\n          <ul className={styles.moviesList}>\r\n            {movies.map((movie) => (\r\n              <li key={movie.id} className={styles.moviesItem}>\r\n                <Link to={`/movies/${movie.id}`}>\r\n                  <img\r\n                    src={\r\n                      movie.poster_path\r\n                        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\r\n                        : moviePlaceholder\r\n                    }\r\n                    alt={movie.title || movie.name}\r\n                    className={styles.poster}\r\n                  />\r\n                </Link>\r\n                {movie.title ? (\r\n                  <span className={styles.movieTitle}>{movie.title}</span>\r\n                ) : (\r\n                  <span className={styles.movieTitle}>{movie.name}</span>\r\n                )}\r\n                <p className={styles.vote}>{movie.vote_average}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {totalPages > 1 && (\r\n            <Pagination\r\n              className={classes.root}\r\n              count={totalPages}\r\n              onChange={onHandlePage}\r\n              page={Number(page)}\r\n              showFirstButton\r\n              showLastButton\r\n              size=\"large\"\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { BASE_URL } from \"./constans\";\r\nimport { API_KEY } from \"./constans\";\r\nimport { LANGUAGE } from \"./constans\";\r\n\r\nasync function apiService(url = \"\", config = {}) {\r\n  const response = await fetch(url, config);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(\r\n        new Error(\"Informacja, której szukasz, nie została znaleziona.\")\r\n      );\r\n}\r\n\r\nfunction getTrending(page) {\r\n  return apiService(\r\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&language=${LANGUAGE}&page=${page}`\r\n  );\r\n}\r\n\r\nfunction searchMovies(query, page) {\r\n  return apiService(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=${LANGUAGE}&query=${query}&page=${page}`\r\n  );\r\n}\r\n\r\nfunction getMovieDetails(movieId, setMovie) {\r\n  return apiService(\r\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=${LANGUAGE}`\r\n  );\r\n}\r\n\r\nfunction getMovieCast(movieId, setCast) {\r\n  return apiService(\r\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=${LANGUAGE}`\r\n  );\r\n}\r\n\r\nfunction getMovieReviews(movieId, setReviews) {\r\n  return apiService(\r\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n\r\nexport {\r\n  getTrending,\r\n  searchMovies,\r\n  getMovieDetails,\r\n  getMovieCast,\r\n  getMovieReviews,\r\n};\r\n","const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = '75815181ea441a6e2021750ae525d2f4';\r\nconst LANGUAGE = 'pl-PL';\r\n\r\nconst STATUS = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport { BASE_URL, API_KEY, STATUS, LANGUAGE };","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    '& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible': {\r\n      backgroundColor: '#000000',\r\n      boxShadow: '0px 0px 20px 0px rgba(255, 255, 255, 1)',\r\n    },\r\n    '& .MuiPaginationItem-root': {\r\n      color: '#fff',\r\n    },\r\n    '& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible': {\r\n      opacity: '0.7',\r\n    },\r\n    '& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible': {\r\n      opacity: '1',\r\n    },\r\n    '& .MuiPagination-ul': {\r\n      justifyContent: 'center',\r\n    },\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n"],"names":["message","role","className","styles","text","src","errorImage","width","alt","classes","useStyles","navigate","useNavigate","location","useLocation","useState","movies","setMovies","totalPages","setTotalPages","error","setError","STATUS","status","setStatus","page","URLSearchParams","search","get","useEffect","getTrending","then","results","total_pages","catch","console","log","LoaderComponent","map","movie","to","id","poster_path","moviePlaceholder","title","name","vote_average","Pagination","root","count","onChange","event","Number","showFirstButton","showLastButton","size","apiService","url","config","fetch","response","ok","json","Promise","reject","Error","BASE_URL","API_KEY","LANGUAGE","searchMovies","query","getMovieDetails","movieId","setMovie","getMovieCast","setCast","getMovieReviews","setReviews","IDLE","PENDING","RESOLVED","REJECTED","makeStyles","display","justifyContent","backgroundColor","boxShadow","color","opacity"],"sourceRoot":""}